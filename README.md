# Unia-Danmuku å¼¹å¹•ç³»ç»Ÿ

<div align="center">

ğŸ‰ ä¸€ä¸ªåŸºäº Bç«™ç›´æ’­çš„ OBS å¼¹å¹•å§¬ç³»ç»Ÿ

![React](https://img.shields.io/badge/React-18.2.0-blue)
![Node.js](https://img.shields.io/badge/Node.js-Express-green)
![License](https://img.shields.io/badge/License-MIT-yellow)

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

Unia-Danmuku æ˜¯ä¸€ä¸ªä¸“ä¸º Unia è®¾è®¡çš„å¼¹å¹•å§¬ç³»ç»Ÿï¼Œæ”¯æŒå®æ—¶å¼¹å¹•æ¥æ”¶ã€OBS æµè§ˆå™¨æºæ˜¾ç¤ºã€SCï¼ˆé†’ç›®ç•™è¨€ï¼‰å±•ç¤ºç­‰åŠŸèƒ½ã€‚é€šè¿‡ç®€æ´ä¼˜é›…çš„ç•Œé¢è®¾è®¡å’Œé«˜åº¦å¯å®šåˆ¶çš„æ ·å¼ç³»ç»Ÿï¼Œè®©ä¸»æ’­èƒ½å¤Ÿè½»æ¾æ‰“é€ å±äºè‡ªå·±çš„ç›´æ’­å¼¹å¹•æ•ˆæœã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ“º å®æ—¶å¼¹å¹•æ¥æ”¶**

  - åŸºäº WebSocket çš„å®æ—¶å¼¹å¹•æ¨é€
  - æ”¯æŒå¤šç§å¼¹å¹•æ¶ˆæ¯ç±»å‹ï¼ˆæ™®é€šå¼¹å¹•ã€é†’ç›®ç•™è¨€ã€ç¤¼ç‰©ã€ä¸Šèˆ°ç­‰ï¼‰
  - ç¨³å®šçš„é•¿è¿æ¥æœºåˆ¶ï¼Œè‡ªåŠ¨é‡è¿
- **ğŸ’¬ OBS å¼¹å¹•å§¬**

  - æ”¯æŒ OBS Studio æµè§ˆå™¨æºé›†æˆ
  - å¤šç§å¼¹å¹•æ ·å¼ï¼ˆç®€æ´æ¨¡å¼ã€æ°”æ³¡æ¨¡å¼ï¼‰
  - é«˜åº¦å¯å®šåˆ¶çš„æ ·å¼ç³»ç»Ÿ
  - å®æ—¶é¢„è§ˆæ•ˆæœ
  - æ”¯æŒèˆ°é•¿ç­‰çº§æ˜¾ç¤º
  - SCï¼ˆé†’ç›®ç•™è¨€ï¼‰ç‰¹æ•ˆå±•ç¤º
- **ğŸ” Bç«™ç™»å½•ç³»ç»Ÿ**

  - æ‰«ç ç™»å½•æ”¯æŒ
  - Cookie æŒä¹…åŒ–å­˜å‚¨
  - è‡ªåŠ¨çŠ¶æ€æ£€æŸ¥
- **ğŸ¨ æ ·å¼å®šåˆ¶**

  - ç”¨æˆ·åæ ·å¼ï¼ˆå­—ä½“ã€å¤§å°ã€é¢œè‰²ã€ç²—ç»†ï¼‰
  - å¼¹å¹•å†…å®¹æ ·å¼ï¼ˆå­—ä½“ã€å¤§å°ã€é¢œè‰²ã€ç²—ç»†ï¼‰
  - èˆ°é•¿ç­‰çº§é¢œè‰²è‡ªå®šä¹‰
  - SC ç‰¹æ•ˆæ—¶é•¿è®¾ç½®
  - å®æ—¶é¢„è§ˆåŠŸèƒ½

### ğŸš§ å¼€å‘ä¸­åŠŸèƒ½

- ğŸ‘¥ ç›´æ’­ä¿¡æ¯é¢æ¿
- ğŸ“Š æ•°æ®ç»Ÿè®¡åˆ†æ
- æ›´å¤šåŠŸèƒ½æ•¬è¯·æœŸå¾…...

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯

- **React 18.2** - UI æ¡†æ¶
- **React Router** - è·¯ç”±ç®¡ç†
- **Vite** - æ„å»ºå·¥å…·
- **Axios** - HTTP å®¢æˆ·ç«¯
- **WebSocket** - å®æ—¶é€šä¿¡

### åç«¯

- **Node.js** - è¿è¡Œæ—¶
- **Express** - Web æ¡†æ¶
- **bilibili-live-ws** - Bç«™ç›´æ’­ WebSocket åº“
- **ws** - WebSocket æœåŠ¡å™¨
- **QRCode** - äºŒç»´ç ç”Ÿæˆ

## ğŸ“¦ å®‰è£…éƒ¨ç½²

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm æˆ– yarn åŒ…ç®¡ç†å™¨

### å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/Unia-Danmuku.git
cd Unia-Danmuku
```

### å®‰è£…ä¾èµ–

#### åç«¯ä¾èµ–

```bash
cd backend
npm install
```

#### å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `backend` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
PORT=3001
FRONTEND_URL=http://localhost:5173
```

### å¯åŠ¨æœåŠ¡

#### å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
npm start
# æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
```

#### å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend
npm run dev
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. ç™»å½• Bç«™è´¦å·

1. è®¿é—® `http://localhost:5173`
2. ç‚¹å‡»"æ‰«ç ç™»å½•"æŒ‰é’®
3. ä½¿ç”¨ Bç«™ APP æ‰«æäºŒç»´ç 
4. ç™»å½•æˆåŠŸåä¼šè‡ªåŠ¨è·³è½¬åˆ°æ§åˆ¶é¢æ¿

### 2. é…ç½® OBS å¼¹å¹•å§¬

#### è¿›å…¥æ ·å¼è®¾ç½®é¡µé¢

1. ç™»å½•åè¿›å…¥æ§åˆ¶é¢æ¿
2. ç‚¹å‡»"OBSå¼¹å¹•å§¬"è¿›å…¥ OBS å¼¹å¹•æ˜¾ç¤ºé¡µé¢
3. ç‚¹å‡»"æ ·å¼è®¾ç½®"æŒ‰é’®è¿›å…¥è®¾ç½®é¡µé¢

#### è‡ªå®šä¹‰æ ·å¼

åœ¨è®¾ç½®é¡µé¢å¯ä»¥è°ƒæ•´ä»¥ä¸‹å†…å®¹ï¼š

- **æ ·å¼ç±»å‹**ï¼šç®€æ´æ¨¡å¼ / æ°”æ³¡æ¨¡å¼
- **ç”¨æˆ·åæ ·å¼**ï¼šå­—ä½“ã€å¤§å°ã€é¢œè‰²ã€ç²—ç»†
- **å¼¹å¹•å†…å®¹æ ·å¼**ï¼šå­—ä½“ã€å¤§å°ã€é¢œè‰²ã€ç²—ç»†
- **èˆ°é•¿ç­‰çº§é¢œè‰²**ï¼šæ€»ç£ã€æç£ã€èˆ°é•¿
- **SC æ˜¾ç¤ºæ—¶é•¿**ï¼šé†’ç›®ç•™è¨€çš„å±•ç¤ºæ—¶é—´

#### æ·»åŠ åˆ° OBS

1. æ‰“å¼€ OBS Studio
2. æ·»åŠ "æµè§ˆå™¨"æº
3. è®¾ç½® URLï¼š
   - æ™®é€šæ¨¡å¼ï¼š`http://localhost:5173/obs-danmaku`
   - æµ‹è¯•æ¨¡å¼ï¼š`http://localhost:5173/obs-danmaku?test=true`
4. è®¾ç½®å®½åº¦ï¼š1920ï¼Œé«˜åº¦ï¼š1080
5. å‹¾é€‰"å…³é—­æºæ—¶åˆ·æ–°æµè§ˆå™¨"
6. ç‚¹å‡»"ç¡®å®š"

### 3. è¿æ¥ç›´æ’­é—´

1. åœ¨ OBS å¼¹å¹•é¡µé¢è¾“å…¥ Bç«™ç›´æ’­é—´æˆ¿é—´å·
2. ç‚¹å‡»"è¿æ¥"æŒ‰é’®
3. è¿æ¥æˆåŠŸåå³å¯å®æ—¶æ¥æ”¶å¼¹å¹•

### 4. æµ‹è¯•æ¨¡å¼

åœ¨ OBS å¼¹å¹•é¡µé¢ URL åæ·»åŠ  `?test=true` å‚æ•°ï¼Œå¯ä»¥å¯ç”¨æµ‹è¯•æ¨¡å¼ï¼š

- æ˜¾ç¤º"å‘é€æµ‹è¯•å¼¹å¹•"æŒ‰é’®
- å¯ä»¥æ‰‹åŠ¨å‘é€å„ç§ç±»å‹çš„æµ‹è¯•æ¶ˆæ¯
- æ–¹ä¾¿è°ƒè¯•æ ·å¼æ•ˆæœ

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
Unia-Danmuku/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ server.js       # æœåŠ¡å™¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js     # ç™»å½•è®¤è¯è·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ danmaku.js  # å¼¹å¹•ç›¸å…³è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ bilibiliAuth.js      # Bç«™ç™»å½•æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ bilibiliLiveWS.js    # Bç«™ç›´æ’­ WebSocket
â”‚   â”‚   â”‚   â””â”€â”€ biliLiveService.js   # ç›´æ’­æœåŠ¡
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·ç±»
â”‚   â”‚       â””â”€â”€ cookieStorage.js     # Cookie å­˜å‚¨
â”‚   â”œâ”€â”€ data/               # æ•°æ®å­˜å‚¨
â”‚   â”‚   â””â”€â”€ cookies.json    # Cookie æŒä¹…åŒ–
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx         # åº”ç”¨ä¸»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.jsx        # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginPage.jsx           # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardPage.jsx       # æ§åˆ¶é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ DanmakuPage.jsx         # å¼¹å¹•æµ‹è¯•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ ObsDanmakuPage.jsx      # OBS å¼¹å¹•æ˜¾ç¤ºé¡µ
â”‚   â”‚   â”‚   â””â”€â”€ ObsSettingsPage.jsx     # æ ·å¼è®¾ç½®é¡µ
â”‚   â”‚   â””â”€â”€ services/       # API æœåŠ¡
â”‚   â”‚       â””â”€â”€ api.js      # API è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## ğŸ¨ å¼¹å¹•ç±»å‹æ”¯æŒ

| ç±»å‹          | è¯´æ˜               | å›¾æ ‡ |
| ------------- | ------------------ | ---- |
| æ™®é€šå¼¹å¹•      | è§‚ä¼—å‘é€çš„æ–‡å­—æ¶ˆæ¯ | ğŸ’¬   |
| é†’ç›®ç•™è¨€ (SC) | ä»˜è´¹é†’ç›®ç•™è¨€       | ğŸ’°   |
| ç¤¼ç‰©          | è§‚ä¼—èµ é€çš„ç¤¼ç‰©     | ğŸ   |
| ä¸Šèˆ°          | è´­ä¹°èˆ°é•¿           | âš“   |
| ç»­è´¹èˆ°é•¿      | èˆ°é•¿ç»­è´¹           | ğŸ”„   |

## âš™ï¸ é…ç½®è¯´æ˜

### åç«¯é…ç½®

- **PORT**: åç«¯æœåŠ¡ç«¯å£ï¼ˆé»˜è®¤ï¼š3001ï¼‰
- **FRONTEND_URL**: å‰ç«¯åœ°å€ï¼ˆç”¨äº CORS é…ç½®ï¼‰

### å‰ç«¯é…ç½®

ä¿®æ”¹ `frontend/src/services/api.js` ä¸­çš„ API åœ°å€ï¼š

```javascript
const API_BASE_URL = 'http://localhost:3001/api';
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. ç™»å½•åæ— æ³•æ¥æ”¶å¼¹å¹•ï¼Ÿ

- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- ç¡®è®¤ Cookie æ˜¯å¦ä¿å­˜æˆåŠŸ
- å°è¯•é‡æ–°ç™»å½•

### 2. OBS ä¸­å¼¹å¹•ä¸æ˜¾ç¤ºï¼Ÿ

- æ£€æŸ¥æµè§ˆå™¨æº URL æ˜¯å¦æ­£ç¡®
- ç¡®è®¤æµè§ˆå™¨æºçš„å®½åº¦å’Œé«˜åº¦è®¾ç½®
- æŸ¥çœ‹ OBS æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### 3. æ ·å¼ä¿®æ”¹ä¸ç”Ÿæ•ˆï¼Ÿ

- åˆ·æ–° OBS æµè§ˆå™¨æº
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æ£€æŸ¥æœ¬åœ°å­˜å‚¨æ˜¯å¦ä¿å­˜æˆåŠŸ

## ğŸ“ å¼€å‘è®¡åˆ’

- [ ] ç›´æ’­ä¿¡æ¯é¢æ¿
- [ ] æ•°æ®ç»Ÿè®¡ä¸åˆ†æ
- [ ] å¼¹å¹•è¿‡æ»¤ä¸å…³é”®è¯å±è”½
- [ ] è‡ªåŠ¨å›å¤åŠŸèƒ½
- [ ] ç²‰ä¸ç‰Œç­‰çº§æ˜¾ç¤º
- [ ] æ›´å¤šå¼¹å¹•ç‰¹æ•ˆ
- [ ] ç§»åŠ¨ç«¯æ”¯æŒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT](LICENSE) åè®®å¼€æºã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

- GitHub: [@yourusername](https://github.com/yourusername)

## ğŸ™ è‡´è°¢

- [bilibili-live-ws](https://github.com/simon300000/bilibili-live-ws) - Bç«™ç›´æ’­ WebSocket åº“
- [React](https://reactjs.org/) - å‰ç«¯æ¡†æ¶
- [Express](https://expressjs.com/) - åç«¯æ¡†æ¶
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç»™ä¸ª Starï¼â­**

Made with â¤ï¸ by Unia Team

</div>
